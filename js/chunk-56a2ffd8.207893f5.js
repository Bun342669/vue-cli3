(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56a2ffd8"],{"78b9":function(t,c,a){"use strict";a("b5eb")},8418:function(t,c,a){"use strict";var e=a("c04e"),i=a("9bf2"),s=a("5c6c");t.exports=function(t,c,a){var o=e(c);o in t?i.f(t,o,s(0,a)):t[o]=a}},"8bbc":function(t,c,a){"use strict";a.r(c);var e=function(){var t=this,c=t.$createElement,a=t._self._c||c;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"shoppingcar p-3"},[a("router-link",{attrs:{to:"/shoppingcar"}},[t.shoppingcart_length>0?a("span",{staticClass:"car_length text-white text-center bg-danger rounded-circle"},[t._v(" "+t._s(t.shoppingcart_length)+" ")]):t._e(),a("img",{attrs:{width:"40",src:"https://upload.cc/i1/2021/03/28/xHQI2b.png",alt:""}})])],1),a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(c){t.isLoading=c}}}),a("div",{staticClass:"d-lg-flex justify-content-center mt-5"},[a("div",{staticClass:"text-center mx-3 img-fluid"},[a("img",{staticClass:" w-100",staticStyle:{"max-width":"700px"},attrs:{src:t.product.imageUrl,alt:""}})]),a("div",{staticClass:"mx-3"},[a("div",[a("h2",{staticClass:"text-center "},[t._v(t._s(t.product.title))]),a("p",{staticClass:"h5 text-center"},[t._v(t._s(t.product.description))]),a("div",{staticClass:"contentp mx-auto"},[a("p",[t._v(t._s(t.product.content))]),a("br"),a("p",[t._v(" Lorem ipsum, dolor sit amet consectetur adipisicing elit. Animi porro ad laborum. Libero recusandae officia rerum eum! Voluptatibus aperiam amet officiis cupiditate voluptas est cum. Incidunt aspernatur aliquam modi laboriosam。")])])]),t.product.price?a("div",{staticClass:"h5 mt-3"},[t._v("NT$ "+t._s(t.product.price)+"元 ")]):t._e(),a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mt-3",on:{change:function(c){var a=Array.prototype.filter.call(c.target.options,(function(t){return t.selected})).map((function(t){var c="_value"in t?t._value:t.value;return c}));t.$set(t.product,"num",c.target.multiple?a:a[0])}}},t._l(15,(function(c){return a("option",{key:c,domProps:{value:c}},[t._v(" 選購 "+t._s(c)+" "+t._s(t.product.unit)+" ")])})),0),a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"h5 text-muted text-nowrap mr-3 text-right"},[t._v(" 小計 "),a("strong",[t._v("NT$ "+t._s(t.product.num*t.product.price))]),t._v("元 ")]),a("button",{staticClass:"btn btn-primary ",attrs:{type:"button"},on:{click:function(c){return t.addtoCart(t.product.id,t.product.num)}}},[t.product.id===t.status.loadingItem?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加到購物車 ")])])])]),a("div",{staticClass:"mt-5 "},[a("p",{staticClass:"text-center border-top"},[t._v("相關商品")]),a("div",{staticClass:"row mx-0 "},[a("div",{staticClass:"col-lg-4 text-center "},[a("a",{attrs:{href:"#"},on:{click:function(c){return t.getRelatedproduct(t.products[2].id)}}},[a("div",{staticStyle:{height:"300px","background-size":"cover","background-position":"center",backgroundImage:"url(https://upload.cc/i1/2021/03/26/QwClYx.jpg)"}}),a("h3",{staticClass:"pt-2"},[t._v("焦糖布丁")])])]),a("div",{staticClass:"col-lg-4 text-center "},[a("a",{attrs:{href:"#"},on:{click:function(c){return t.getRelatedproduct(t.products[1].id)}}},[a("div",{staticStyle:{height:"300px","background-size":"cover","background-position":"center",backgroundImage:"url(https://upload.cc/i1/2021/03/26/KrGovX.jpg)"}}),a("h3",{staticClass:"pt-2"},[t._v("千層蛋糕")])])]),a("div",{staticClass:"col-lg-4 text-center "},[a("a",{attrs:{href:"#"},on:{click:function(c){return t.getRelatedproduct(t.products[4].id)}}},[a("div",{staticStyle:{height:"300px","background-size":"cover","background-position":"center",backgroundImage:"url(https://upload.cc/i1/2021/03/26/jSMnwX.jpg)"}}),a("h3",{staticClass:"pt-2"},[t._v("冰淇淋蛋糕")])])])])])],1)},i=[],s=(a("99af"),a("159b"),{data:function(){return{status:"",product:{},products:[],isLoading:!1,shoppingcart_length:""}},methods:{getproducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("dessert342669","/products?page=").concat(t),a=this;a.isLoading=!0,this.$http.get(c).then((function(t){a.isLoading=!1,a.products=t.data.products}))},getproduct:function(){var t=this,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("dessert342669","/product/").concat(t.status);t.isLoading=!0,this.$http.get(c).then((function(c){c.data.success&&(t.product=c.data.product,t.isLoading=!1)}))},getRelatedproduct:function(t){var c=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("dessert342669","/product/").concat(t);c.isLoading=!0,this.$http.get(a).then((function(t){t.data.success&&(c.$router.push("/customerorder/".concat(t.data.product.id)),c.product=t.data.product,c.isLoading=!1)}))},addtoCart:function(t){var c=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.log(t,a);var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dessert342669","/cart"),i=this;i.isLoading=!0;var s={product_id:t,qty:a};this.$http.get(e).then((function(a){a.data.data.carts.forEach((function(a){if(a.product.id===t){s.qty=a.qty+s.qty;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dessert342669","/cart/").concat(a.id);c.$http.delete(e).then((function(){}))}})),c.$http.post(e,{data:s}).then((function(t){t.data.success&&i.getCart()})),i.isLoading=!1,c.$bus.$emit("message:push","已成功加入購物車","success")}))},getCart:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("dessert342669","/cart"),c=this;c.isLoading=!0,this.$http.get(t).then((function(t){c.shoppingcart_length=t.data.data.carts.length,c.isLoading=!1}))}},created:function(){this.status=this.$route.params.id,this.getproduct(),this.getCart(),this.getproducts()}}),o=s,r=(a("78b9"),a("2877")),n=Object(r["a"])(o,e,i,!1,null,"61ddb5dc",null);c["default"]=n.exports},"99af":function(t,c,a){"use strict";var e=a("23e7"),i=a("d039"),s=a("e8b5"),o=a("861d"),r=a("7b0b"),n=a("50c4"),u=a("8418"),d=a("65f0"),p=a("1dde"),l=a("b622"),h=a("2d00"),g=l("isConcatSpreadable"),v=9007199254740991,f="Maximum allowed index exceeded",m=h>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=p("concat"),x=function(t){if(!o(t))return!1;var c=t[g];return void 0!==c?!!c:s(t)},_=!m||!b;e({target:"Array",proto:!0,forced:_},{concat:function(t){var c,a,e,i,s,o=r(this),p=d(o,0),l=0;for(c=-1,e=arguments.length;c<e;c++)if(s=-1===c?o:arguments[c],x(s)){if(i=n(s.length),l+i>v)throw TypeError(f);for(a=0;a<i;a++,l++)a in s&&u(p,l,s[a])}else{if(l>=v)throw TypeError(f);u(p,l++,s)}return p.length=l,p}})},b5eb:function(t,c,a){}}]);
//# sourceMappingURL=chunk-56a2ffd8.207893f5.js.map